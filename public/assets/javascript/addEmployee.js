!function(e){var a={};function t(s){if(a[s])return a[s].exports;var n=a[s]={i:s,l:!1,exports:{}};return e[s].call(n.exports,n,n.exports,t),n.l=!0,n.exports}t.m=e,t.c=a,t.d=function(e,a,s){t.o(e,a)||Object.defineProperty(e,a,{enumerable:!0,get:s})},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,a){if(1&a&&(e=t(e)),8&a)return e;if(4&a&&"object"==typeof e&&e&&e.__esModule)return e;var s=Object.create(null);if(t.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:e}),2&a&&"string"!=typeof e)for(var n in e)t.d(s,n,function(a){return e[a]}.bind(null,n));return s},t.n=function(e){var a=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(a,"a",a),a},t.o=function(e,a){return Object.prototype.hasOwnProperty.call(e,a)},t.p="",t(t.s=2)}({2:function(e,a){!function(){var e="",a="",t="";geturlParams=()=>{try{getDeptList(),getEmpList(),setTimeout(()=>{const e=getAllUrlParams(window.location);t=null!=e.empcode?e.empcode.toUpperCase():e.empcode,""!=check_string_val(t,"")?($(".expand_class_while_edit").addClass("col-md-8"),getEmpById(t),getShiftList(),getLeaveList(),get_year_dropdown("f_dateyear",2020),$("#updateAssignLeave").hide(),getAssignLeaveList(t),$("#updateAssignShift").hide(),getAssignShiftList(t),$("#profile-card").show(),$("#leave").show(),$("#shift").show(),$(".if_new").hide()):($(".expand_class_while_edit").addClass("col-md-12"),$(".if_new").show())},1e3)}catch(e){console.log(e)}},getShiftList=()=>{try{$.ajax({type:"POST",url:"./ess/getShiftList",crossDomain:!0,beforeSend:function(){},success:function(e){var a="";a+='<option label="Select Shift"></option>',e.data.forEach(e=>{a+=`<option value="${e.s_shift}">${e.s_shift}</option>`}),$("#n_shift_id").html(a)},error:function(e){console.log(e)},complete:function(){}})}catch(e){console.log(e)}},getLeaveList=()=>{try{$.ajax({type:"POST",url:"./ess/getLeaveList",crossDomain:!0,beforeSend:function(){},success:function(e){var a="";a+='<option label="Select Leave"></option>',e.data.forEach(e=>{a+=`<option value="${e.n_type_id}">${e.s_name}</option>`}),$("#n_type_id").html(a)},error:function(e){console.log(e)},complete:function(){}})}catch(e){console.log(e)}},getDeptList=()=>{try{$.ajax({type:"POST",url:"./ess/getDeptList",crossDomain:!0,data:{},beforeSend:function(){},success:function(e){var a="";a+='<option label="Select Department"></option>',e.data.forEach(e=>{a+=`<option value="${e.n_dep_id}">${e.s_dep_name}</option>`}),$("#n_dep_id").html(a)},error:function(e){console.log(e)},complete:function(){}})}catch(e){console.log(e)}},getEmpList=()=>{try{$.ajax({type:"POST",url:"./ess/getEmpList",crossDomain:!0,beforeSend:function(){},success:function(e){var a="";a+='<option label="Select Employee"></option>',e.data.forEach(e=>{a+=`<option value="${e.s_em_code}">${e.fullnm}</option>`}),$("#s_em_reporting1").html(a),$("#s_em_reporting2").html(a)},error:function(e){console.log(e)},complete:function(){setTimeout(()=>{$(".select2_emp").select2()},2e3)}})}catch(e){console.log(e)}},emptyfield=()=>{$("#s_em_phone").val(""),$("#s_first_name").val(""),$("#s_middle_name").val(""),$("#s_last_name").val(""),$("#s_em_code").val(""),$("#s_em_email").val(""),$("input[name=s_em_gender]").prop("checked",!1),$("#s_designation").val(""),$("input[name=s_em_marital_status]").prop("checked",!1),$("#s_em_pf_no").val(""),$("#s_em_pan").val(""),$("#s_em_adhar").val(""),$("#s_em_blood_group").val(""),$("#s_em_birthday").val(""),$("#d_em_joining_date").val(""),$("#s_em_address").val(""),$("#s_em_reporting1").val(""),$("#s_em_reporting2").val(""),$("#n_dep_id").val("")},showEmpById=e=>{var a="../assets/img/userprofile.png";a=""!=e.s_em_image&&null!=e.s_em_image?e.s_em_image:"../assets/img/userprofile.png",$("#proImg").attr("src",a),$("#empcode").val(e.s_em_code),$("#fullnm").text(e.s_first_name+" "+e.s_middle_name+" "+e.s_last_name),$("#designation").text(e.s_designation),$("#department").text(e.dept),$("#reporting1").text(e.reporting1),$("#reporting2").text(e.reporting2),$("#s_em_phone").val(e.s_em_phone),$("#s_first_name").val(e.s_first_name),$("#s_middle_name").val(e.s_middle_name),$("#s_last_name").val(e.s_last_name),$("#s_em_code").val(e.s_em_code),$("#s_em_email").val(e.s_em_email),$("input[name=s_em_gender][value="+e.s_em_gender+"]").prop("checked",!0),$("#s_designation").val(e.s_designation),$("input[name=s_em_marital_status][value="+e.s_em_marital_status+"]").prop("checked",!0),$("#s_em_pf_no").val(e.s_em_pf_no),$("#s_em_pan").val(e.s_em_pan),$("#s_em_adhar").val(e.s_em_adhar),$("#s_em_blood_group").val(e.s_em_blood_group),$("#s_em_birthday").val(e.s_em_birthday),$("#d_em_joining_date").val(e.d_em_joining_date),$("#s_em_address").val(e.s_em_address),$("#s_em_reporting1").val(e.s_em_reporting1),$("#s_em_reporting2").val(e.s_em_reporting2),$("#n_dep_id").val(e.n_dep_id),setTimeout(()=>{$("#n_location_id").val(e.n_location_id),$(".select2_emp").select2()},1e3)},getEmpById=e=>{try{$.ajax({type:"POST",url:"./ess/getEmpById",crossDomain:!0,data:{s_em_code:e},beforeSend:function(){add_loader("loader")},success:function(e){callAlert("success",success_handling(e)),$("#updateEmp").show(),$("#saveEmp").hide(),showEmpById(e.data[0])},error:function(e){callAlert("error",error_handling(e)),console.log(e)},complete:function(){remove_loader("loader")}})}catch(e){console.log(e),remove_loader("loader")}},$("#cancelEmp").click((function(e){emptyfield(),$("#updateEmp").hide(),$("#saveEmp").show(),window.location="#/emp"})),$("#saveEmp").click((function(t){t.preventDefault(),a="SAVE",e="./ess/saveEmp",$("#form-employee").submit()})),$("#updateEmp").click((function(t){t.preventDefault(),a="UPDATE",e="./ess/saveEmp",$("#form-employee").submit()})),$("#btn_change_pass").click(()=>{if($("#s_em_password").val()==$("#confirmPassword").val()&&""!=$("#s_em_password").val()&&null!=$("#s_em_password").val()){if(confirm("Do You Really Want to change password")){var e={s_em_password:$("#s_em_password").val(),s_em_code:t};$.ajax({type:"POST",contentType:"application/json",url:"./ess/changePassword",data:JSON.stringify(e),dataType:"json",beforeSend:function(){},success:function(e){$("#passmodal").modal("toggle")},error:function(e){console.log(e)},complete:function(e){}})}}else alert("Password Mismatch"),$("#s_em_password").val(""),$("#confirmPassword").val("")});var s=$("#form-employee").bind("invalid-form.validate",(function(){alert("Your missed "+s.numberOfInvalids()+" input, see the details below red in color.")})).validate({submitHandler:function(){if("SAVE"==a?btn_disable("#saveEmp"):btn_disable("#updateEmp"),confirm("Do you want to Save and proceed ? ")){var t={s_em_phone:$("#s_em_phone").val(),s_first_name:$("#s_first_name").val(),s_middle_name:$("#s_middle_name").val(),s_last_name:$("#s_last_name").val(),s_em_code:$("#s_em_code").val(),s_em_email:$("#s_em_email").val(),s_em_gender:$('input[name="s_em_gender"]:checked').val(),s_designation:$("#s_designation").val(),s_em_marital_status:$('input[name="s_em_marital_status"]:checked').val(),s_em_pf_no:$("#s_em_pf_no").val(),s_em_pan:$("#s_em_pan").val(),s_em_adhar:$("#s_em_adhar").val(),s_em_blood_group:$("#s_em_blood_group").val(),s_em_birthday:$("#s_em_birthday").val(),d_em_joining_date:$("#d_em_joining_date").val(),s_em_address:$("#s_em_address").val(),s_em_reporting1:$("#s_em_reporting1").val(),s_em_reporting2:$("#s_em_reporting2").val(),n_dep_id:$("#n_dep_id").val(),s_em_password:$("#s_em_password_").val(),n_location_id:$("#n_location_id").val()};$.ajax({type:"POST",contentType:"application/json",url:e,data:JSON.stringify(t),dataType:"json",beforeSend:function(){add_loader("loader")},success:function(e){callAlert("success",success_handling(e)),window.location=`#/addEmployee/${localStorage.getItem("email")}?empcode=${e.data[0].emp}`},error:function(e){callAlert("error",error_handling(e))},complete:function(e){remove_loader("loader"),setTimeout(()=>{"SAVE"==a?btn_enable("#saveEmp"):btn_enable("#updateEmp")},1e3)}})}},rules:{s_first_name:{required:!0,maxlength:30},s_last_name:{required:!0,maxlength:20},s_em_code:{required:!0,maxlength:20},s_em_email:{required:!0},d_em_joining_date:{required:!0},s_designation:{required:!0},s_em_gender:{required:!0},s_em_address:{minlength:10,maxlength:512},s_em_adhar:{minlength:12,maxlength:12},s_em_pan:{minlength:10,maxlength:10},s_em_pf_no:{maxlength:20},s_em_password_:{required:!0,minlength:8,maxlength:15},s_em_password_conf:{equalTo:"#s_em_password_",required:!0,minlength:8,maxlength:15},n_location_id:{required:!0},s_em_reporting1:{required:!0}}});emptyAssignLeavefield=()=>{$("#n_type_id").val(""),$("#n_assiged_days").val(""),$("#f_dateyear").val(""),$("#n_emp_shift_id").val(""),$("#n_current_leave").val(""),$("#n_carry_forward_leave").val(""),$("#n_max_leave_in_month").val("")},getAssignLeaveList=e=>{try{$.ajax({type:"POST",url:"./ess/getAssignLeaveList",crossDomain:!0,data:{s_em_code:e},beforeSend:function(){},success:function(e){callAlert("success",success_handling(e));var a="";e.data.forEach(e=>{a+=`<tr><td>\n                        <a onclick="getAssignLeaveById(${e.n_al_id});" class="btn btn-sm btn-info"><i class="fas fa-edit"></i></a> | <a onclick="deleteAssignLeaveById(${e.n_al_id});" class="btn btn-sm btn-danger"><i class="fas fa-trash"></i></a>\n                        <td>${e.leave_nm}</td>\n                        <td>${e.n_assiged_days}</td>\n                        <td>${e.f_dateyear}</td>\n                        <td>${e.n_max_leave_in_month}</td>\n                        </tr>`}),$("#leaveData").html(a)},error:function(e){callAlert("error",error_handling(e)),console.log(e)},complete:function(){}})}catch(e){console.log(e)}},showAssignLeaveById=e=>{$("#n_type_id").val(e.n_type_id),$("#n_assiged_days").val(e.n_assiged_days),$("#n_al_id").val(e.n_al_id),$("#f_dateyear").val(e.f_dateyear)},getAssignLeaveById=e=>{try{$.ajax({type:"POST",url:"./ess/getAssignLeaveById",crossDomain:!0,data:{n_al_id:e},beforeSend:function(){add_loader("loader")},success:function(e){callAlert("success",success_handling(e)),$("#updateAssignLeave").show(),$("#saveAssignLeave").hide(),showAssignLeaveById(e.data[0])},error:function(e){callAlert("error",error_handling(e)),console.log(e)},complete:function(){remove_loader("loader")}})}catch(e){remove_loader("loader"),console.log(e)}},deleteAssignLeaveById=e=>{try{confirm("Do you Really want to delete this record")&&$.ajax({type:"POST",url:"./ess/deleteAssignLeaveById",crossDomain:!0,data:{n_al_id:e},beforeSend:function(){add_loader("loader")},success:function(e){callAlert("success",success_handling(e)),getAssignLeaveList(t)},error:function(e){callAlert("error",error_handling(e))},complete:function(){remove_loader("loader")}})}catch(e){remove_loader("loader"),console.log(e)}},$("#cancelAssignLeave").click((function(e){emptyAssignLeavefield(),$("#updateAssignLeave").hide(),$("#saveAssignLeave").show()})),$("#saveAssignLeave").click((function(t){t.preventDefault(),a="SAVE",e="./ess/saveAssignLeave",$("#form-leave").submit()})),$("#updateAssignLeave").click((function(t){t.preventDefault(),a="UPDATE",e="./ess/saveAssignLeave",$("#form-leave").submit()}));var n=$("#form-leave").bind("invalid-form.validate",(function(){alert("Your missed "+n.numberOfInvalids()+" input, see the details below red in color.")})).validate({submitHandler:function(){if("SAVE"==a?btn_disable("#saveAssignLeave"):btn_disable("#updateAssignLeave"),confirm("Do you want to save and proceed ? ")){var s={s_em_code:t,n_type_id:$("#n_type_id").val(),n_current_leave:$("#n_current_leave").val(),n_carry_forward_leave:$("#n_carry_forward_leave").val(),n_max_leave_in_month:$("#n_max_leave_in_month").val(),f_dateyear:$("#f_dateyear").val()};$.ajax({type:"POST",contentType:"application/json",url:e,data:JSON.stringify(s),dataType:"json",beforeSend:function(){add_loader("loader")},success:function(e){callAlert("success",success_handling(e)),emptyAssignLeavefield(),getAssignLeaveList(t),$("#updateAssignLeave").hide(),$("#saveAssignLeave").show()},error:function(e){callAlert("error",error_handling(e)),console.log(e)},complete:function(e){remove_loader("loader"),setTimeout(()=>{"SAVE"==a?btn_enable("#saveAssignLeave"):btn_enable("#updateAssignLeave")},1e3)}})}},rules:{n_type_id:{required:!0,maxlength:30},n_assiged_days:{required:!0,maxlength:30},f_dateyear:{required:!0,maxlength:20}}});emptyAssignShiftfield=()=>{$("#n_shift_id").val(""),$("#d_start_date").val(""),$("#d_end_date").val(""),$("#n_emp_shift_id").val("")},getAssignShiftList=e=>{try{$.ajax({type:"POST",url:"./ess/getAssignShiftList",crossDomain:!0,data:{s_em_code:e},beforeSend:function(){},success:function(e){callAlert("success",success_handling(e));var a="";e.data.forEach(e=>{a+=`<tr><td>\n                        <a onclick="getAssignShiftById(${e.n_emp_shift_id});" class="btn btn-sm btn-success"><i class="fas fa-edit"></i></a> | <a onclick="deleteAssignShiftById(${e.n_emp_shift_id});" class="btn btn-sm btn-danger"><i class="fas fa-trash"></i></a>\n                        <td>${e.n_shift_id}</td>\n                        <td>${e.d_start_date}</td>\n                        <td>${e.d_end_date}</td>\n                        </tr>`}),$("#shiftData").html(a)},error:function(e){callAlert("error",error_handling(e))},complete:function(){}})}catch(e){console.log(e)}},showAssignShiftById=e=>{$("#n_shift_id").val(e.n_shift_id),$("#d_start_date").val(e.d_start_date),$("#n_emp_shift_id").val(e.n_emp_shift_id),$("#d_end_date").val(e.d_end_date)},getAssignShiftById=e=>{try{$.ajax({type:"POST",url:"./ess/getAssignShiftById",crossDomain:!0,data:{n_emp_shift_id:e},beforeSend:function(){add_loader("loader")},success:function(e){callAlert("success",success_handling(e)),$("#updateAssignShift").show(),$("#saveAssignShift").hide(),showAssignShiftById(e.data[0])},error:function(e){callAlert("error",error_handling(e)),console.log(e)},complete:function(){remove_loader("loader")}})}catch(e){console.log(e),remove_loader("loader")}},deleteAssignShiftById=e=>{try{confirm("Do you Really want to delete this record")&&$.ajax({type:"POST",url:"./ess/deleteAssignShiftById",crossDomain:!0,data:{n_emp_shift_id:e},beforeSend:function(){add_loader("loader")},success:function(e){callAlert("success",success_handling(e)),getAssignShiftList(t)},error:function(e){callAlert("error",error_handling(e)),console.log(e)},complete:function(){remove_loader("loader")}})}catch(e){console.log(e),remove_loader("loader")}},$("#cancelAssignShift").click((function(e){emptyAssignShiftfield(),$("#updateAssignShift").hide(),$("#saveAssignShift").show()})),$("#saveAssignShift").click((function(t){t.preventDefault(),a="SAVE",e="./ess/saveAssignShift",$("#form-shift").submit()})),$("#updateAssignShift").click((function(t){t.preventDefault(),a="UPDATE",e="./ess/updateAssignShift",$("#form-shift").submit()})),$.validator.addMethod("greaterThan",(function(e,a,t){return/Invalid|NaN/.test(new Date(e))?isNaN(e)&&isNaN($(t).val())||Number(e)>Number($(t).val()):new Date(e)>new Date($(t).val())}),"Must be greater than From date."),$.validator.addMethod("start_date",(function(e,a){return new Date<new Date($("#d_start_date").val())}),"Date should be greater then today date.");n=$("#form-shift").bind("invalid-form.validate",(function(){alert("Your missed "+n.numberOfInvalids()+" input, see the details below red in color.")})).validate({submitHandler:function(){if("SAVE"==a?btn_disable("#saveAssignShift"):btn_disable("#updateAssignShift"),confirm("Do you want to save and proceed ? ")){var s={s_em_code:t,n_shift_id:$("#n_shift_id").val(),d_start_date:$("#d_start_date").val(),d_end_date:$("#d_end_date").val()};$.ajax({type:"POST",contentType:"application/json",url:e,data:JSON.stringify(s),dataType:"json",beforeSend:function(){add_loader("loader")},success:function(e){callAlert("success",success_handling(e)),emptyAssignShiftfield(),getAssignShiftList(t),$("#updateAssignShift").hide(),$("#saveAssignShift").show()},error:function(e){callAlert("error",error_handling(e)),console.log(e)},complete:function(e){remove_loader("loader"),setTimeout(()=>{"SAVE"==a?btn_enable("#saveAssignShift"):btn_enable("#updateAssignShift")},1e3)}})}},rules:{n_shift_id:{required:!0,maxlength:30},d_end_date:{greaterThan:"#d_start_date"}}});geturlParams(),getCall_deactive=()=>{try{var e=$("#output_frame1").contents().find("pre").html();if(!e)return;var a=this.JSON.parse(e);if(console.log(a),200==a.status){var t=a.data;$("#proImg").attr("src",t),$("#imgmodal").modal("toggle")}}catch(e){callAlert("error",error_handling(e))}},get_location_list=()=>{try{$.ajax({type:"POST",url:"/ess/get_location_list",crossDomain:!0,beforeSend:function(){},success:function(e){var a="";a+='<option label="Select Location"></option>',e.data.forEach(e=>{a+=`<option value="${e.n_location_id}">${e.s_location_name}</option>`}),$("#n_location_id").html(a)},error:function(e){console.log(e)},complete:function(){}})}catch(e){console.log(e)}},get_location_list(),document.addEventListener("DOMContentLoaded")}()}});